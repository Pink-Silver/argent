// --------------------------------------------------------------------------
//
// ARGENT: Ammo
//
// --------------------------------------------------------------------------

/* Base Items */

class BFGCell : Ammo
{
	Default
	{
		Inventory.Amount 1;
		Inventory.MaxAmount 3;
		Ammo.BackpackAmount 0;
		Ammo.BackpackMaxAmount 3;
		Inventory.Icon "BFGCELL";
	}
}

class ChainsawFuel : Ammo
{
	Default
	{
		Inventory.Amount 8;
		Inventory.MaxAmount 24;
		Ammo.BackpackAmount 0;
		Ammo.BackpackMaxAmount 24;
		Inventory.Icon "CSAWFUEL";
	}
}

/* Pickups */

class ArgClip       : Clip       replaces Clip       { Default { Inventory.PickupSound "items/ammo"; Scale 0.66; } }
class ArgClipBox    : ClipBox    replaces ClipBox    { Default { Inventory.PickupSound "items/ammo"; Scale 0.66; } }
class ArgShell      : Shell      replaces Shell      { Default { Inventory.PickupSound "items/ammo"; Scale 0.66; } }
class ArgShellBox   : ShellBox   replaces ShellBox   { Default { Inventory.PickupSound "items/ammo"; Scale 0.66; } }
class ArgCell       : Cell       replaces Cell       { Default { Inventory.PickupSound "items/ammo"; Scale 0.75; } }
class ArgCellPack   : CellPack                       { Default { Inventory.PickupSound "items/ammo"; Scale 0.75; } }

class ArgRocketAmmo : Ammo replaces RocketAmmo
{
	Default
	{
		Inventory.PickupSound "items/ammo";
		Inventory.PickupMessage "$GOTROCKET";
		Inventory.Amount 1;
		Inventory.MaxAmount 30;
		Ammo.BackpackAmount 1;
		Ammo.BackpackMaxAmount 60;
		Inventory.Icon "ROCKA0";
		Scale 0.66;
	}
	States
	{
	Spawn:
		ROCK A -1;
		Stop;
	}
}

class ArgRocketBox : ArgRocketAmmo replaces RocketBox
{
	Default
	{
		Inventory.PickupMessage "$GOTROCKBOX";
		Inventory.Amount 5;
		Scale 0.5;
	}
	States
	{
	Spawn:
		BROK A -1;
		Stop;
	}
}

class ArgBFGCell : CustomInventory
{
	Default
	{
		Inventory.PickupSound "items/ammo";
		Inventory.PickupMessage "$ARG_GOT_BFGCELL";
		Scale 0.66;

		+FLOATBOB
	}
	States
	{
	Spawn:
		BFGC BC 5 Bright;
		Loop;
	Pickup:
		TNT1 A 0 A_GiveInventory("BFGCell", 1);
		Stop;
	}
}

class ArgBFGCellSpawner : Actor
{
	Default
	{
		Scale 0.66;
		+FORCEYBILLBOARD
	}
	States
	{
	Spawn:
		BFGC A 0 NoDelay A_SpawnItemEx("ArgBFGCell",0,0,0,0,0,0,0,SXF_ISTRACER|SXF_TRANSFERSPECIAL);
	Idle:
		BFGC A 1;
		BFGC A 1 {
			if(IsPointerEqual(AAPTR_TRACER, AAPTR_NULL)) {
				return ResolveState("Vanish");
			}
			return ResolveState(null);
		}
		Wait;
	Vanish:
		TNT1 A 0;
		Stop;
	}
}

class ArgChainsawFuel : ChainsawFuel
{
	Default
	{
		Inventory.PickupMessage "$ARG_GOT_CSAWFUEL";
		Inventory.PickupSound "items/ammo";
		Scale 0.75;
	}
    States
    {
    Spawn:
        FUEL A -1;
        Stop;
    }
}

/* Temporary dropped versions for tagged monsters */

class ArgClipDropped : ArgClip
{
    States
    {
    Spawn:
        TNT1 A 0 NoDelay ACS_NamedExecuteWithResult ("Orange_TemporaryItem");
        Goto Super::Spawn;
    }
}

class ArgShellDropped : ArgShell
{
    States
    {
    Spawn:
        TNT1 A 0 NoDelay ACS_NamedExecuteWithResult ("Orange_TemporaryItem");
        Goto Super::Spawn;
    }
}

class ArgRocketAmmoDropped : ArgRocketAmmo
{
    States
    {
    Spawn:
        TNT1 A 0 NoDelay ACS_NamedExecuteWithResult ("Orange_TemporaryItem");
        Goto Super::Spawn;
    }
}

class ArgCellDropped : ArgCell
{
    States
    {
    Spawn:
        TNT1 A 0 NoDelay ACS_NamedExecuteWithResult ("Orange_TemporaryItem");
        Goto Super::Spawn;
    }
}

class ArgBFGCellDropped : ArgBFGCell
{
    States
    {
    Spawn:
        TNT1 A 0 NoDelay ACS_NamedExecuteWithResult ("Orange_TemporaryItem");
        Goto Super::Spawn;
    }
}

class ArgChainsawFuelDropped : ArgChainsawFuel
{
    States
    {
    Spawn:
        TNT1 A 0 NoDelay ACS_NamedExecuteWithResult ("Orange_TemporaryItem");
        Goto Super::Spawn;
    }
}
