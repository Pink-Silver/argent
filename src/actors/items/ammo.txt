// --------------------------------------------------------------------------
//
// ARGENT: Ammo
//
// --------------------------------------------------------------------------

/* Base Items */
ACTOR BFGCell : Ammo
{
    Inventory.Amount 1
    Inventory.MaxAmount 3
    Ammo.BackpackAmount 0
    Ammo.BackpackMaxAmount 3
    Inventory.Icon "BFGCELL"
}

ACTOR ChainsawFuel : Ammo
{
    Inventory.Amount 1
    Inventory.MaxAmount 3
    Ammo.BackpackAmount 0
    Ammo.BackpackMaxAmount 3
    Inventory.Icon "CSAWFUEL"
}

/* Pickups */
ACTOR ArgClip       : Clip       replaces Clip       { Inventory.PickupSound "items/ammo" Scale 0.66 }
ACTOR ArgClipBox    : ClipBox    replaces ClipBox    { Inventory.PickupSound "items/ammo" Scale 0.66 }
ACTOR ArgShell      : Shell      replaces Shell      { Inventory.PickupSound "items/ammo" Scale 0.66 }
ACTOR ArgShellBox   : ShellBox   replaces ShellBox   { Inventory.PickupSound "items/ammo" Scale 0.66 }
ACTOR ArgRocketAmmo : RocketAmmo replaces RocketAmmo { Inventory.PickupSound "items/ammo" Scale 0.66 }
ACTOR ArgRocketBox  : RocketBox  replaces RocketBox  { Inventory.PickupSound "items/ammo" Scale 0.50 }
ACTOR ArgCell       : Cell       replaces Cell       { Inventory.PickupSound "items/ammo" Scale 0.75 }
ACTOR ArgCellPack   : CellPack   replaces CellPack   { Inventory.PickupSound "items/ammo" Scale 0.75 }

ACTOR ArgBFGCell : CustomInventory
{
	Inventory.PickupSound "items/ammo"
	Inventory.PickupMessage "$ARG_GOT_BFGCELL"
	Scale 0.66
	+FLOATBOB
	States
	{
	Spawn:
		BFGC BC 5 Bright 
		Loop
	Pickup:
		TNT1 A 0 {
			A_GiveInventory("BFGCell", 1);
			A_RemoveSiblings(true, RMVF_MISC|RMVF_EVERYTHING);
		}
		Stop
	}
}

ACTOR ArgBFGCellSpawner
{
	Scale 0.66
	+FORCEYBILLBOARD
	States
	{
	Spawn:
		BFGC A 0 NoDelay A_SpawnItemEx("ArgBFGCell",0,0,0,0,0,0,0,SXF_ISTRACER|SXF_TRANSFERSPECIAL)
	Idle:
		BFGC A 1
		BFGC A 1 {
			if(CheckClass("ArgBFGCell", AAPTR_TRACER)) {
				return state(0);
			}
			return state("Vanish");
		}
		Wait
	Vanish:
		TNT1 A 0
		Stop
	}
}

ACTOR ArgChainsawFuel : ChainsawFuel
{
    Inventory.PickupMessage "$ARG_GOT_CSAWFUEL"
    Inventory.PickupSound "items/ammo"
    Scale 0.75
    States
    {
    Spawn:
        FUEL A -1
        Stop
    }
}

/* Temporary dropped versions for tagged monsters */

ACTOR ArgClipDropped : ArgClip
{
    States
    {
    Spawn:
        TNT1 A 0 NoDelay ACS_NamedExecuteWithResult ("Orange_TemporaryItem")
        Goto Super::Spawn
    }
}

ACTOR ArgShellDropped : ArgShell
{
    States
    {
    Spawn:
        TNT1 A 0 NoDelay ACS_NamedExecuteWithResult ("Orange_TemporaryItem")
        Goto Super::Spawn
    }
}

ACTOR ArgRocketAmmoDropped : ArgRocketAmmo
{
    States
    {
    Spawn:
        TNT1 A 0 NoDelay ACS_NamedExecuteWithResult ("Orange_TemporaryItem")
        Goto Super::Spawn
    }
}

ACTOR ArgCellDropped : ArgCell
{
    States
    {
    Spawn:
        TNT1 A 0 NoDelay ACS_NamedExecuteWithResult ("Orange_TemporaryItem")
        Goto Super::Spawn
    }
}

ACTOR ArgBFGCellDropped : ArgBFGCell
{
    States
    {
    Spawn:
        TNT1 A 0 NoDelay ACS_NamedExecuteWithResult ("Orange_TemporaryItem")
        Goto Super::Spawn
    }
}

ACTOR ArgChainsawFuelDropped : ArgChainsawFuel
{
    States
    {
    Spawn:
        TNT1 A 0 NoDelay ACS_NamedExecuteWithResult ("Orange_TemporaryItem")
        Goto Super::Spawn
    }
}
